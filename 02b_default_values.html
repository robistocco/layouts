<!DOCTYPE html>
<html lang="en">
<head>
  <title>Layouts - Default Values</title>
  <script src="http://s0.2mdn.net/ads/studio/Enabler.js"></script>
  <script>
    studio.utils.EnablerAccessor.loadModuleWhenReady(
        studio.module.ModuleId.CONFIGURABLE, loadModuleHandler);

    function loadModuleHandler() {
      // Declare configurable types/classes.
      studio.sdk.configurable.config.declare('Fruit', {
        'name': 'generic fruit',
        'color': '#ffffff'
      });

      // Declare main configuration.
      studio.sdk.configurable.config.declare('Main', {
        'foo': { '@type': 'Fruit' },
        'bar': { '@type': 'Fruit' }
      });

      // Instantiate.
      var configuration = studio.sdk.configurable.config.instantiate('Main', {
        'foo': {
          'name': 'banana',
          'color': '#ffff00'
        },
        'bar': {
          'name': 'orange',
          'color': '#ff9900'
        }
      });

      // Register.
      studio.sdk.configurable.register(configuration, registerHandler);
    }

    function registerHandler(object) {
      console.dir(object);
    }
  </script>
</head>
<body>
</body>
</html>
